<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>KarmYog - Admin Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/modern-design-system.css">
    <link rel="stylesheet" href="/css/modern-navbar.css">

    <script>
        $(document).ready(function() {
            // Load admin statistics
            function loadAdminStats() {
                $.get("/admin-stats").done(function (stats) {
                    $("#totalUsers").text(stats.totalUsers || 0);
                    $("#activeProviders").text(stats.activeProviders || 0);
                    $("#totalJobs").text(stats.totalJobs || 0);
                    $("#newThisMonth").text(stats.newThisMonth || 0);
                    $("#totalCustomers").text(stats.totalCustomers || 0);
                    $("#pendingJobs").text(stats.pendingJobs || 0);
                }).fail(function (err) {
                    console.log("Could not load admin statistics");
                    // Keep default values if API fails
                });
            }

            // Load stats on page load
            loadAdminStats();
        });
    </script>
</head>

<body>
    <!-- Modern Navigation -->
    <nav class="modern-navbar">
        <div class="navbar-container">
            <a href="/" class="navbar-brand">
                <div class="navbar-brand-icon">K</div>
                KarmYog
            </a>
            
            <div class="navbar-actions">
                <div class="navbar-dropdown">
                    <div class="navbar-user">
                        <div class="navbar-avatar">A</div>
                        <div class="navbar-user-info">
                            <div class="navbar-user-name">Admin</div>
                            <div class="navbar-user-role">Administrator</div>
                        </div>
                        <i class="fas fa-chevron-down" style="font-size: 0.75rem; color: #94a3b8;"></i>
                    </div>
                    <div class="navbar-dropdown-menu">
                        <a href="#" class="navbar-dropdown-item">
                            <i class="fas fa-user-circle" style="margin-right: 0.5rem;"></i>
                            Profile
                        </a>
                        <a href="#" class="navbar-dropdown-item">
                            <i class="fas fa-cog" style="margin-right: 0.5rem;"></i>
                            Settings
                        </a>
                        <div class="navbar-dropdown-divider"></div>
                        <a href="/" class="navbar-dropdown-item" style="color: #ef4444;">
                            <i class="fas fa-sign-out-alt" style="margin-right: 0.5rem;"></i>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container" style="padding-top: 2rem;">
        <!-- Header Section -->
        <div class="mb-8">
            <h1 class="text-4xl font-bold text-neutral-800 mb-2">Admin Dashboard</h1>
            <p class="text-lg text-neutral-600">Manage your KarmYog platform efficiently</p>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-4 gap-6 mb-8">
            <div class="card" style="background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%); color: white;">
                <div class="card-body">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm opacity-90">Total Users</p>
                            <p class="text-3xl font-bold" id="totalUsers">0</p>
                            <p class="text-xs opacity-75 mt-1">All registered users</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                            <i class="fas fa-users" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" style="background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%); color: white;">
                <div class="card-body">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm opacity-90">Active Providers</p>
                            <p class="text-3xl font-bold" id="activeProviders">0</p>
                            <p class="text-xs opacity-75 mt-1">Active service providers</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                            <i class="fas fa-user-tie" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white;">
                <div class="card-body">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm opacity-90">Total Jobs</p>
                            <p class="text-3xl font-bold" id="totalJobs">0</p>
                            <p class="text-xs opacity-75 mt-1">All posted jobs</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                            <i class="fas fa-briefcase" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); color: white;">
                <div class="card-body">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm opacity-90">New This Month</p>
                            <p class="text-3xl font-bold" id="newThisMonth">0</p>
                            <p class="text-xs opacity-75 mt-1">New registrations</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                            <i class="fas fa-user-friends" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Additional Stats Row -->
        <div class="grid grid-cols-2 gap-6 mb-8">
            <div class="card" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); color: white;">
                <div class="card-body">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm opacity-90">Total Customers</p>
                            <p class="text-3xl font-bold" id="totalCustomers">0</p>
                            <p class="text-xs opacity-75 mt-1">Registered customers</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                            <i class="fas fa-user-friends" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white;">
                <div class="card-body">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm opacity-90">Pending Jobs</p>
                            <p class="text-3xl font-bold" id="pendingJobs">0</p>
                            <p class="text-xs opacity-75 mt-1">Jobs awaiting completion</p>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 0.75rem;">
                            <i class="fas fa-clock" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Management Cards -->
        <div class="grid grid-cols-3 gap-6">
            <div class="card transition">
                <div class="card-header">
                    <div class="flex items-center">
                        <div style="background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%); color: white; padding: 0.75rem; border-radius: 0.5rem; margin-right: 1rem;">
                            <i class="fas fa-users-cog" style="font-size: 1.25rem;"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-neutral-800">Users Manager</h3>
                            <p class="text-sm text-neutral-600">Manage all platform users</p>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <p class="text-neutral-600 mb-4">View, edit, block, and manage all registered users on the platform. Monitor user activity and maintain account security.</p>
                    <div class="flex gap-2">
                        <span class="badge badge-primary">User Management</span>
                        <span class="badge badge-primary">Security</span>
                    </div>
                </div>
                <div class="card-footer">
                    <a href="/users-manager" class="btn btn-primary btn-full">
                        <i class="fas fa-arrow-right" style="margin-left: 0.5rem;"></i>
                        Manage Users
                    </a>
                </div>
            </div>

            <div class="card transition">
                <div class="card-header">
                    <div class="flex items-center">
                        <div style="background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%); color: white; padding: 0.75rem; border-radius: 0.5rem; margin-right: 1rem;">
                            <i class="fas fa-user-tie" style="font-size: 1.25rem;"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-neutral-800">Service Providers</h3>
                            <p class="text-sm text-neutral-600">Manage service providers</p>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <p class="text-neutral-600 mb-4">Oversee all service providers, their profiles, categories, and service offerings. Approve new providers and monitor service quality.</p>
                    <div class="flex gap-2">
                        <span class="badge badge-success">Providers</span>
                        <span class="badge badge-success">Services</span>
                    </div>
                </div>
                <div class="card-footer">
                    <a href="/provider-table" class="btn btn-success btn-full">
                        <i class="fas fa-arrow-right" style="margin-left: 0.5rem;"></i>
                        Manage Providers
                    </a>
                </div>
            </div>

            <div class="card transition">
                <div class="card-header">
                    <div class="flex items-center">
                        <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 0.75rem; border-radius: 0.5rem; margin-right: 1rem;">
                            <i class="fas fa-user-friends" style="font-size: 1.25rem;"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-neutral-800">Customers</h3>
                            <p class="text-sm text-neutral-600">Manage customer accounts</p>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <p class="text-neutral-600 mb-4">View and manage customer profiles, their service requests, transaction history, and provide customer support when needed.</p>
                    <div class="flex gap-2">
                        <span class="badge badge-warning">Customers</span>
                        <span class="badge badge-warning">Support</span>
                    </div>
                </div>
                <div class="card-footer">
                    <a href="/customer-table" class="btn btn-warning btn-full">
                        <i class="fas fa-arrow-right" style="margin-left: 0.5rem;"></i>
                        Manage Customers
                    </a>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="mt-8">
            <div class="card">
                <div class="card-header">
                    <h3 class="text-xl font-semibold text-neutral-800">Quick Actions</h3>
                    <p class="text-sm text-neutral-600">Frequently used administrative functions</p>
                </div>
                <div class="card-body">
                    <div class="grid grid-cols-4 gap-4">
                        <button class="btn btn-secondary flex flex-col items-center p-4">
                            <i class="fas fa-chart-bar mb-2" style="font-size: 1.5rem;"></i>
                            <span>View Reports</span>
                        </button>
                        <button class="btn btn-secondary flex flex-col items-center p-4">
                            <i class="fas fa-bell mb-2" style="font-size: 1.5rem;"></i>
                            <span>Send Notifications</span>
                        </button>
                        <button class="btn btn-secondary flex flex-col items-center p-4">
                            <i class="fas fa-cog mb-2" style="font-size: 1.5rem;"></i>
                            <span>System Settings</span>
                        </button>
                        <button class="btn btn-secondary flex flex-col items-center p-4">
                            <i class="fas fa-download mb-2" style="font-size: 1.5rem;"></i>
                            <span>Export Data</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
     

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>